<main>
  <h1>Prodotti</h1>

  <section>
    <h2>Nuovo prodotto</h2>
    <form (ngSubmit)="createProduct()">
      <div>
        <label>Nome</label>
        <input [(ngModel)]="newProduct.name" name="name" required />
      </div>
      <div>
        <label>Descrizione</label>
        <input [(ngModel)]="newProduct.description" name="description" />
      </div>
      <div>
        <label>Prezzo</label>
        <input type="number" [(ngModel)]="newProduct.price" name="price" />
      </div>
      <button type="submit">Crea</button>
    </form>
  </section>

  <section>
    <h2>Elenco prodotti</h2>
    <table *ngIf="products && products.length; else empty">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Descrizione</th>
          <th>Prezzo</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of products">
          <td>{{ p.name }}</td>
          <td>{{ p.description }}</td>
          <td>{{ p.price | number: '1.2-2' }}</td>
        </tr>
      </tbody>
    </table>

    <ng-template #empty>
      <p>Nessun prodotto disponibile.</p>
    </ng-template>
  </section>
</main>
